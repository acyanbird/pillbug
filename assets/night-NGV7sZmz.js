import{G as H,W as T,S as W,B as j,F as O,P as R,V as D,a as q,M as E,D as U,b as u,A as V,c as K,m as J,d as I,e as N,g as Q,l as X,f as Y,T as Z,n as _,o as $,j as b,O as ee,p as te,q as v,r as ne,s as oe}from"./getpoint-7WpkPiVX.js";const ie=""+new URL("backgroundstar-4cPCeTGK.jpg",import.meta.url).href;let f,ae=new H,r,z=.15,h={},p,A,w,n,s,B,P,y=!1,g=3,x=0,d,F=[],a,G=[],l,c,S=window.innerWidth,M=window.innerHeight,L=window.innerWidth/window.innerHeight;function re(){B=document.getElementById("gl-canvas"),s=new T({canvas:B}),p=k(3),A=k(5),w=p,n=new W,s.setSize(S,M),s.shadowMap.enabled=!0,s.shadowMap.type=j;let e=ue();n.add(e),n.fog=new O(592146,.035),ye(),le(),fe(),me(),we(),de(),s.render(n,w),window.addEventListener("click",function(){se()}),C(),window.addEventListener("resize",ce),window.addEventListener("keydown",function(t){h[t.key]=!0}),window.addEventListener("keyup",function(t){h[t.key]=!1})}re();function se(){w===p?w=A:w=p,s.render(n,w)}function k(e){let t=new R(75,L,.1,1e3);return t.position.y=e,t.lookAt(new D(0,0,-10)),t}function de(){let e=new q(13,120,5,5),t=new E({color:10066329,emissive:16711680,emissiveIntensity:.2,side:U}),o=new u(e,t);o.position.set(0,0,0),o.rotation.x=Math.PI/2,o.receiveShadow=!0,n.add(o)}function le(){P=new V(16777215,.8),n.add(P);const e=new K(16777215,1.5);e.position.set(0,5,-50),e.castShadow=!0,n.add(e)}function ce(){S=window.innerWidth,M=window.innerHeight,L=window.innerWidth/window.innerHeight,p.aspect=L,p.updateProjectionMatrix(),s.setSize(S,M),s.render(n,p)}function we(){ae.load(J,function(e){r=e.scene,r.scale.set(.3,.3,.3),r.position.set(0,.2,-3),e.scene.traverse(function(t){t.isMesh&&(t.castShadow=!0)}),n.add(r),f=new I().setFromObject(r)},void 0,function(e){console.error(e)})}function C(){if(y){document.getElementById("end").style.display="block";return}r&&f.setFromObject(r),F.forEach(e=>{e.position.z+=z,e.visible=e.position.z<0&&e.position.z>-50,e.position.z>0&&(e.position.x=i(-5,5),e.position.z+=i(-90,-40));let t=new N(e.position,.18);f&&f.intersectsSphere(t)&&(e.position.x=i(-5,5),e.position.z+=i(-90,-40),x+=1,document.getElementById("score").innerHTML="Score: "+x,new Audio(Q).play())}),G.forEach(e=>{e.position.z+=z,e.visible=e.position.z<0&&e.position.z>-60,e.position.z>0&&(e.position.x=i(-5,5),e.position.z+=i(-90,-40)),e.rotation.x+=.01,e.rotation.y+=.01;let t=new I().setFromObject(e);console.log(t),f&&f.intersectsBox(t)&&(e.position.x=i(-5,5),e.position.z+=i(-90,-40),g-=1,document.getElementById("life").innerHTML="Life: "+g,g!==0?new Audio(X).play():(new Audio(Y).play(),y=!0,document.getElementById("finalScore").innerHTML="Final Score: "+x,document.getElementById("end").style.display="block"))}),h.ArrowLeft&&r.position.x>-4.5&&(r.position.x-=.065),h.ArrowRight&&r.position.x<4.5&&(r.position.x+=.065),l.rotation.x+=.01,l.rotation.y+=.01,c.rotation.x+=.01,c.rotation.y+=.01,s.render(n,w),y||requestAnimationFrame(C)}function i(e,t){return Math.random()*(t-e)+e}function pe(){let e=new b(.2,32,32),t=new ne({color:16776960});return d=new u(e,t),d.castShadow=!0,d.receiveShadow=!0,n.add(d),d}function fe(){for(let e=0;e<15;e+=1)d=pe(),d.position.set(i(-5,5),.5,i(-70,-50)),F.push(d),n.add(d)}function ue(){let e=new Z().load(ie),t=new _({map:e,side:$}),o=new b(40,64,64);return new u(o,t)}function he(){let e=new oe(.6,.6,.6),t=new E({color:16711680,transparent:!0,opacity:.6});return a=new u(e,t),a.castShadow=!0,a.receiveShadow=!0,a.rotation.x=Math.PI/4,a.rotation.y=Math.PI/4,n.add(a),a}function me(){for(let e=0;e<5;e+=1)a=he(),a.position.set(i(-5,5),.5,i(-70,-50)),G.push(a),n.add(a)}function ye(){let e=new ee(.4),t=new te({color:"white",transparent:!0,opacity:.5,roughness:.3,reflectivity:.7,clearcoat:.8});l=new u(e,t),l.position.set(-3,4,-5),l.castShadow=!0,l.rotation.y=Math.PI/4,c=new u(e,t),c.position.set(3,3.5,-6),c.castShadow=!0,c.rotation.y=Math.PI/4,n.add(l,c);let o=new v("red",8);o.position.set(-3,5,-5),o.target=l,o.castShadow=!0;let m=new v("blue",8);m.position.set(3,4.5,-6),m.target=c,n.add(o,m)}
