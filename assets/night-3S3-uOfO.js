import{G as W,W as j,S as O,P as T,F as q,a as R,V as D,b as V,M as I,D as U,c as h,A as Y,d as _,m as K,B as A,e as N,g as J,l as Q,f as X,n as Z,O as $,o as ee,p as b,j as te,q as oe,r as ne}from"./getpoint--UprzHmr.js";const f=""+new URL("starbackgroundsquare-YY_6p_VK.jpg",import.meta.url).href;let p,ie=new W,r,P=.18,y={},u,F,w,o,s,B,E,m,x=!1,S=3,M=0,d,C=[],a,G=[],l,c,L=window.innerWidth,v=window.innerHeight,z=window.innerWidth/window.innerHeight;function ae(){B=document.getElementById("gl-canvas"),s=new j({canvas:B,antialias:!0}),u=k(3),F=k(5),w=u,o=new O,s.setSize(L,v),s.shadowMap.enabled=!0,s.shadowMap.type=T,fe(),o.fog=new q(592146,.035),me(),de(),ue(),he(),ce(),se(),s.render(o,w),window.addEventListener("click",function(){re()}),H(),window.addEventListener("resize",le),window.addEventListener("keydown",function(e){y[e.key]=!0}),window.addEventListener("keyup",function(e){y[e.key]=!1})}ae();function re(){w===u?w=F:w=u,s.render(o,w)}function k(e){let t=new R(75,z,.1,1e3);return t.position.y=e,t.lookAt(new D(0,0,-10)),t}function se(){let e=new V(13,60,2,10),t=new I({color:10066329,emissive:16711680,emissiveIntensity:.2,side:U}),n=new h(e,t);n.position.set(0,0,-30),n.rotation.x=Math.PI/2,n.receiveShadow=!0,o.add(n)}function de(){E=new Y(16777215,.8),o.add(E),m=new _(16777215,1.5),m.position.set(0,5,-50),m.castShadow=!0,o.add(m)}function le(){L=window.innerWidth,v=window.innerHeight,z=window.innerWidth/window.innerHeight,u.aspect=z,u.updateProjectionMatrix(),s.setSize(L,v),s.render(o,u)}function ce(){ie.load(K,function(e){r=e.scene,r.scale.set(.35,.35,.35),r.position.set(0,.2,-3),e.scene.traverse(function(t){t.isMesh&&(t.castShadow=!0)}),o.add(r),p=new A().setFromObject(r)},void 0,function(e){console.error(e)})}function H(){if(x){document.getElementById("end").style.display="block";return}r&&p.setFromObject(r),C.forEach(e=>{e.position.z+=P,e.visible=e.position.z<0&&e.position.z>-60,e.position.z>0&&(e.position.x=i(-5,5),e.position.z+=i(-90,-40));let t=new N(e.position,.18);p&&p.intersectsSphere(t)&&(e.position.x=i(-5,5),e.position.z+=i(-90,-40),M+=1,document.getElementById("score").innerHTML="Score: "+M,new Audio(J).play())}),G.forEach(e=>{e.position.z+=P,e.visible=e.position.z<0&&e.position.z>-60,e.position.z>0&&(e.position.x=i(-5,5),e.position.z+=i(-90,-40)),e.rotation.x+=.01,e.rotation.y+=.01;let t=new A().setFromObject(e);console.log(t),p&&p.intersectsBox(t)&&(e.position.x=i(-5,5),e.position.z+=i(-90,-40),S-=1,document.getElementById("life").innerHTML="Life: "+S,S!==0?new Audio(Q).play():(new Audio(X).play(),x=!0,document.getElementById("finalScore").innerHTML="Final Score: "+M,document.getElementById("end").style.display="block"))}),y.ArrowLeft&&r.position.x>-4.5&&(r.position.x-=.065),y.ArrowRight&&r.position.x<4.5&&(r.position.x+=.065),l.rotation.x+=.01,l.rotation.y+=.01,c.rotation.x+=.01,c.rotation.y+=.01,s.render(o,w),x||requestAnimationFrame(H)}function i(e,t){return Math.random()*(t-e)+e}function we(){let e=new te(.2,32,32),t=new oe({color:16776960});return d=new h(e,t),d.castShadow=!0,d.receiveShadow=!0,o.add(d),d}function ue(){for(let e=0;e<15;e+=1)d=we(),d.position.set(i(-5,5),.5,i(-90,-40)),C.push(d),o.add(d)}function fe(){let t=new Z().load([f,f,f,f,f,f]);o.background=t}function pe(){let e=new ne(.6,.6,.6),t=new I({color:16711680,transparent:!0,opacity:.6});return a=new h(e,t),a.castShadow=!0,a.receiveShadow=!0,a.rotation.x=Math.PI/4,a.rotation.y=Math.PI/4,o.add(a),a}function he(){for(let e=0;e<5;e+=1)a=pe(),a.position.set(i(-5,5),.5,i(-90,-40)),G.push(a),o.add(a)}function me(){let e=new $(.4),t=new ee({color:"white",transparent:!0,opacity:.5,roughness:.3,reflectivity:.7,clearcoat:.8});l=new h(e,t),l.position.set(-3,4,-5),l.castShadow=!0,l.rotation.y=Math.PI/4,c=new h(e,t),c.position.set(3,3.5,-6),c.castShadow=!0,c.rotation.y=Math.PI/4,o.add(l,c);let n=new b(6172264,18);n.position.set(-3,5,-5),n.target=l,n.castShadow=!0;let g=new b(2002860,18);g.position.set(3,4.5,-6),g.target=c,o.add(n,g)}
